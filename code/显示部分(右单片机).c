#include <REG52.H>
#include <stdio.h>	
unsigned int b;	    
unsigned int oldB;	 
unsigned int n;	   
unsigned int e;	  
unsigned int K0;
unsigned int K1;
unsigned int K2;
unsigned int K3;
unsigned int K4;
unsigned int K5;
unsigned int IsNewOld;
	
#define LCDLCDDisp_Off   0x3e
#define LCDLCDDisp_On    0x3f
#define Page_Add     0xb8//页地址
#define LCDCol_Add     0x40//列地址
#define Start_Line     0xC0//行地址
/*****液晶显示器的端口定义*****/
#define data_ora P0   /*液晶数据总线*/
sbit LCDMcs=P2^1 ;    /*片选1*/
sbit LCDScs=P2^2 ;    /*片选2*/
sbit RESET=P2^3 ;  	  /*复位信号*/
sbit LCDDi=P2^4 ;     /*数据/指令 选择*/
sbit LCDRW=P2^5 ;     /*读/写 选择*/
sbit LCDEnable=P2^6 ; /*读/写 使能*/
	  
sbit M0=P1^0;     
sbit M1=P1^1;   
sbit M2=P1^2;     
sbit M3=P1^3;  
sbit M4=P1^4;     
sbit M5=P1^5; 
sbit IsNew=P1^6;  

unsigned int letter[32];

char code Start[][32]={ 
{
/*--  文字:  嗨0  --*/
/*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
0xFC,0x04,0xFC,0x00,0x12,0x64,0x10,0x08,0xF7,0x14,0x54,0x94,0x14,0xF4,0x04,0x00,
0x0F,0x04,0x0F,0x00,0x04,0x7E,0x01,0x1D,0x13,0x11,0x55,0x99,0x51,0x3F,0x11,0x00
},
{
/*--  文字:  我1  --*/
/*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
0x20,0x24,0x24,0x24,0xFE,0x23,0x22,0x20,0x20,0xFF,0x20,0x22,0x2C,0xA0,0x20,0x00,
0x00,0x08,0x48,0x84,0x7F,0x02,0x41,0x40,0x20,0x13,0x0C,0x14,0x22,0x41,0xF8,0x00
},
{			  
/*--  文字:  是2  --*/
/*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
0x00,0x00,0x00,0x7F,0x49,0x49,0x49,0x49,0x49,0x49,0x49,0x7F,0x00,0x00,0x00,0x00,
0x81,0x41,0x21,0x1D,0x21,0x41,0x81,0xFF,0x89,0x89,0x89,0x89,0x89,0x81,0x81,0x00
},
{
/*--  文字:  一3  --*/
/*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00
},
{
/*--  文字:  个4  --*/
/*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
0x80,0x80,0x40,0x20,0x10,0x08,0x04,0xC3,0x04,0x08,0x10,0x20,0x40,0x80,0x80,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xFF,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00
},
{
/*--  文字:  广5  --*/
/*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
0x00,0x00,0xF8,0x08,0x08,0x08,0x08,0x09,0x0E,0x08,0x08,0x08,0x08,0x08,0x00,0x00,
0x80,0x60,0x1F,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00
},
{
/*--  文字:  告6  --*/
/*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
0x80,0xA0,0x90,0x8E,0x88,0x88,0x88,0xFF,0x88,0x88,0x88,0x88,0x88,0x80,0x80,0x00,
0x00,0x00,0x00,0xFC,0x44,0x44,0x44,0x44,0x44,0x44,0x44,0xFC,0x00,0x00,0x00,0x00
},
{
/*--  文字:  牌7  --*/
/*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
0x00,0xFE,0x20,0x20,0x3F,0x20,0x00,0xFC,0x26,0xA5,0x7C,0x24,0x24,0xFC,0x00,0x00,
0x80,0x7F,0x01,0x01,0xFF,0x00,0x08,0x0D,0x0B,0x09,0x09,0xFF,0x09,0x09,0x08,0x00
}
};


char code Alphabet[][32]={ 
{
/*--A---------------------------------------------------------------------------
  宽×高（像素）: 16×16
  字模格式/大小 : 单色点阵液晶字模，纵向取模，字节倒序/32字节
------------------------------------------------------------------------------*/
0x00,0x00,0x00,0x00,0xC0,0xF8,0xFC,0x7C,0xFC,0xFC,0xE0,0x80,0x00,0x00,0x00,0x00,
0x00,0x00,0x10,0x1E,0x1F,0x1F,0x07,0x06,0x07,0x0F,0x1F,0x1F,0x1C,0x00,0x00,0x00
},
{
/*--B-------------------------------------------------------------------------*/
0x00,0x00,0x00,0x00,0xFC,0xFC,0xFC,0xCC,0xCC,0xFC,0xFC,0xB8,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x1F,0x1F,0x1F,0x18,0x18,0x1F,0x1F,0x0F,0x07,0x00,0x00,0x00
},
{
/*--C-------------------------------------------------------------------------*/
0x00,0x00,0x00,0xC0,0xF0,0xF8,0xFC,0x1C,0x1C,0x0C,0x1C,0x1C,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x01,0x07,0x0F,0x1F,0x1C,0x18,0x18,0x1C,0x1C,0x00,0x00,0x00,0x00
},
{
/*--D-------------------------------------------------------------------------*/
0x00,0x00,0x00,0xFC,0xFC,0xFC,0x0C,0x0C,0x1C,0x1C,0xFC,0xF8,0xF0,0x00,0x00,0x00,
0x00,0x00,0x00,0x1F,0x1F,0x1F,0x18,0x18,0x1C,0x1C,0x1F,0x0F,0x07,0x00,0x00,0x00
},
{
/*--E-------------------------------------------------------------------------*/
0x00,0x00,0x00,0x00,0x00,0xFC,0xFC,0xFC,0xCC,0xCC,0xCC,0x0C,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x1F,0x1F,0x1F,0x18,0x18,0x18,0x18,0x00,0x00,0x00,0x00
},
{
/*--F-------------------------------------------------------------------------*/
0x00,0x00,0x00,0x00,0x00,0xFC,0xFC,0xFC,0x8C,0x8C,0x8C,0x0C,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x1F,0x1F,0x1F,0x01,0x01,0x01,0x00,0x00,0x00,0x00,0x00
},
{
/*--G-------------------------------------------------------------------------*/
0x00,0x00,0x00,0xE0,0xF8,0xF8,0x3C,0x1C,0x8C,0x8C,0x9C,0x9C,0x9C,0x00,0x00,0x00,
0x00,0x00,0x00,0x07,0x0F,0x1F,0x1E,0x1C,0x19,0x19,0x1F,0x1F,0x1F,0x00,0x00,0x00
},
{
/*--H-------------------------------------------------------------------------*/
0x00,0x00,0x00,0xFC,0xFC,0xFC,0xC0,0xC0,0xC0,0xC0,0xFC,0xFC,0xFC,0x00,0x00,0x00,
0x00,0x00,0x00,0x1F,0x1F,0x1F,0x00,0x00,0x00,0x00,0x1F,0x1F,0x1F,0x00,0x00,0x00
},
{
/*--I-------------------------------------------------------------------------*/
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xFC,0xFC,0xFC,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x1F,0x1F,0x1F,0x00,0x00,0x00,0x00,0x00,0x00
},
{
/*--J-------------------------------------------------------------------------*/
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xFC,0xFC,0xFC,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x18,0x18,0x1E,0x1F,0x0F,0x03,0x00,0x00,0x00,0x00,0x00
},
{
/*--K-------------------------------------------------------------------------*/
0x00,0x00,0x00,0x00,0xFC,0xFC,0xFC,0xE0,0xF0,0xFC,0x3C,0x1C,0x04,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x1F,0x1F,0x1F,0x03,0x07,0x1F,0x1F,0x1C,0x18,0x00,0x00,0x00
},
{
/*--L-------------------------------------------------------------------------*/
0x00,0x00,0x00,0x00,0x00,0xFC,0xFC,0xFC,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x1F,0x1F,0x1F,0x18,0x18,0x18,0x18,0x00,0x00,0x00,0x00
},
{
/*--M-------------------------------------------------------------------------*/
0x00,0xFC,0xFC,0xFC,0x7C,0xFC,0xF0,0x80,0x80,0xF0,0xFC,0xFC,0xFC,0xFC,0x00,0x00,
0x00,0x1F,0x1F,0x1F,0x00,0x03,0x1F,0x1F,0x1F,0x0F,0x01,0x1F,0x1F,0x1F,0x00,0x00
},
{
/*--N-------------------------------------------------------------------------*/
0x00,0x00,0x00,0xFC,0xFC,0xFC,0xFC,0xF0,0xC0,0x80,0xFC,0xFC,0xFC,0x00,0x00,0x00,
0x00,0x00,0x00,0x1F,0x1F,0x1F,0x00,0x01,0x07,0x1F,0x1F,0x1F,0x1F,0x00,0x00,0x00
},
{
/*--O-------------------------------------------------------------------------*/
0x00,0x00,0xC0,0xF0,0xF8,0xFC,0x1C,0x0C,0x0C,0x1C,0xFC,0xF8,0xF0,0xC0,0x00,0x00,
0x00,0x00,0x01,0x07,0x0F,0x1F,0x1C,0x18,0x18,0x1C,0x1F,0x0F,0x07,0x01,0x00,0x00
},
{
/*--P-------------------------------------------------------------------------*/
0x00,0x00,0x00,0x00,0xFC,0xFC,0xFC,0x8C,0x8C,0xFC,0xFC,0xFC,0x70,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x1F,0x1F,0x1F,0x01,0x01,0x01,0x01,0x00,0x00,0x00,0x00,0x00
},
{
/*--Q-------------------------------------------------------------------------*/
0x00,0x00,0xC0,0xF0,0xF8,0xFC,0x1C,0x0C,0x0C,0x1C,0xFC,0xF8,0xF0,0xC0,0x00,0x00,
0x00,0x00,0x01,0x07,0x0F,0x1F,0x1C,0x18,0x18,0x1C,0x3F,0x3F,0x37,0x21,0x20,0x00
},
{
/*--R-------------------------------------------------------------------------*/
0x00,0x00,0x00,0x00,0xFC,0xFC,0xFC,0x8C,0xDC,0xFC,0xFC,0x78,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x1F,0x1F,0x1F,0x03,0x07,0x1F,0x1F,0x1C,0x18,0x00,0x00,0x00
},
{
/*--S-------------------------------------------------------------------------*/
0x00,0x00,0x00,0x00,0x78,0xFC,0xFC,0xDC,0xCC,0x8C,0x9C,0x1C,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x1C,0x1C,0x19,0x19,0x1F,0x1F,0x1F,0x0F,0x00,0x00,0x00,0x00
},
{
/*--T-------------------------------------------------------------------------*/
0x00,0x00,0x00,0x0C,0x0C,0x0C,0xFC,0xFC,0xFC,0x0C,0x0C,0x0C,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x1F,0x1F,0x1F,0x00,0x00,0x00,0x00,0x00,0x00,0x00
},
{
/*--U-------------------------------------------------------------------------*/
0x00,0x00,0x00,0xFC,0xFC,0xFC,0x00,0x00,0x00,0x00,0xFC,0xFC,0xFC,0x00,0x00,0x00,
0x00,0x00,0x00,0x07,0x0F,0x1F,0x1C,0x18,0x18,0x1E,0x1F,0x0F,0x03,0x00,0x00,0x00
},
{
/*--V-------------------------------------------------------------------------*/
0x00,0x00,0x00,0x1C,0xFC,0xFC,0xF0,0x80,0x80,0xF0,0xFC,0xFC,0x1C,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x07,0x1F,0x1F,0x1F,0x1F,0x07,0x00,0x00,0x00,0x00,0x00
},
{
/*--W-------------------------------------------------------------------------*/
0x0C,0x7C,0xFC,0xFC,0xC0,0xC0,0xFC,0xFC,0xFC,0xFC,0xE0,0x00,0xF8,0xFC,0x7C,0x04,
0x00,0x00,0x07,0x1F,0x1F,0x1F,0x1F,0x01,0x00,0x0F,0x1F,0x1F,0x1F,0x07,0x00,0x00
},
{
/*--X-------------------------------------------------------------------------*/
0x00,0x00,0x00,0x04,0x1C,0x7C,0xFC,0xF0,0xF0,0xFC,0x7C,0x1C,0x04,0x00,0x00,0x00,
0x00,0x00,0x00,0x18,0x1C,0x1F,0x1F,0x07,0x07,0x1F,0x1F,0x1C,0x10,0x00,0x00,0x00
},
{
/*--Y-------------------------------------------------------------------------*/
0x00,0x00,0x00,0x04,0x1C,0x7C,0xFC,0xF0,0xE0,0xFC,0xFC,0x1C,0x04,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x1F,0x1F,0x1F,0x1F,0x00,0x00,0x00,0x00,0x00,0x00
},
{
/*--Z-------------------------------------------------------------------------*/
0x00,0x00,0x00,0x00,0x0C,0x0C,0x8C,0xCC,0xFC,0xFC,0x3C,0x1C,0x0C,0x00,0x00,0x00,
0x00,0x00,0x00,0x10,0x1C,0x1E,0x1F,0x1F,0x19,0x18,0x18,0x18,0x18,0x00,0x00,0x00
},
{
/*--a-------------------------------------------------------------------------*/
0x00,0x00,0x00,0x00,0x00,0x60,0x60,0x60,0xE0,0xE0,0xE0,0x80,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x0E,0x1F,0x1F,0x19,0x1D,0x1F,0x1F,0x1F,0x00,0x00,0x00,0x00
},
{
/*--b-------------------------------------------------------------------------*/
0x00,0x00,0x00,0x00,0xFC,0xFC,0xFC,0xE0,0x60,0xE0,0xE0,0xC0,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x1F,0x1F,0x1F,0x1C,0x18,0x1F,0x1F,0x0F,0x00,0x00,0x00,0x00
},
{
/*--c-------------------------------------------------------------------------*/
0x00,0x00,0x00,0x00,0x00,0xC0,0xE0,0xE0,0xE0,0x60,0xE0,0xE0,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x0F,0x1F,0x1F,0x1C,0x18,0x1C,0x1C,0x00,0x00,0x00,0x00
},
{
/*--d-------------------------------------------------------------------------*/
0x00,0x00,0x00,0x00,0xC0,0xE0,0xE0,0x60,0xE0,0xFC,0xFC,0xFC,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x07,0x1F,0x1F,0x1F,0x18,0x1C,0x1F,0x1F,0x1F,0x00,0x00,0x00,0x00
},
{
/*--e-------------------------------------------------------------------------*/
0x00,0x00,0x00,0x00,0x80,0xC0,0xE0,0xE0,0x60,0xE0,0xE0,0xC0,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x07,0x1F,0x1F,0x1F,0x1B,0x1B,0x1B,0x1B,0x00,0x00,0x00,0x00
},
{
/*--f-------------------------------------------------------------------------*/
0x00,0x00,0x00,0x00,0x00,0x60,0xF8,0xFC,0xFC,0x7C,0x6C,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x1F,0x1F,0x1F,0x00,0x00,0x00,0x00,0x00,0x00,0x00
},
{
/*--g-------------------------------------------------------------------------*/
0x00,0x00,0x00,0x00,0xC0,0xE0,0xE0,0x60,0xE0,0xE0,0xE0,0xE0,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x07,0xDF,0xDF,0xDF,0xD8,0xFC,0xFF,0x7F,0x3F,0x00,0x00,0x00,0x00
},
{
/*--h-------------------------------------------------------------------------*/
0x00,0x00,0x00,0x00,0xFC,0xFC,0xFC,0xE0,0x60,0xE0,0xE0,0xC0,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x1F,0x1F,0x1F,0x00,0x00,0x1F,0x1F,0x1F,0x00,0x00,0x00,0x00
},
{
/*--i-------------------------------------------------------------------------*/
0x00,0x00,0x00,0x00,0x00,0x00,0x0C,0xEC,0xEC,0xEC,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x1F,0x1F,0x1F,0x00,0x00,0x00,0x00,0x00,0x00
},
{
/*--j-------------------------------------------------------------------------*/
0x00,0x00,0x00,0x00,0x00,0x00,0x0C,0xEC,0xEC,0xEC,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x80,0xC0,0xFF,0xFF,0x7F,0x00,0x00,0x00,0x00,0x00,0x00
},
{
/*--k-------------------------------------------------------------------------*/
0x00,0x00,0x00,0x00,0xFC,0xFC,0xFC,0x80,0xE0,0xE0,0xE0,0x20,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x1F,0x1F,0x1F,0x07,0x0F,0x1F,0x1C,0x18,0x00,0x00,0x00,0x00
},
{
/*--l-------------------------------------------------------------------------*/
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xFC,0xFC,0xFC,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x1F,0x1F,0x1F,0x00,0x00,0x00,0x00,0x00,0x00
},
{
/*--m-------------------------------------------------------------------------*/
0x00,0x00,0xE0,0xE0,0xE0,0x60,0xE0,0xE0,0xE0,0xE0,0x60,0xE0,0xE0,0xE0,0x80,0x00,
0x00,0x00,0x1F,0x1F,0x1F,0x00,0x00,0x1F,0x1F,0x1F,0x00,0x1F,0x1F,0x1F,0x1F,0x00
},
{
/*--n-------------------------------------------------------------------------*/
0x00,0x00,0x00,0x00,0xE0,0xE0,0xE0,0xE0,0x60,0xE0,0xE0,0xC0,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x1F,0x1F,0x1F,0x00,0x00,0x1F,0x1F,0x1F,0x00,0x00,0x00,0x00
},
{
/*--o-------------------------------------------------------------------------*/
0x00,0x00,0x00,0x00,0xC0,0xE0,0xE0,0xE0,0x60,0xE0,0xE0,0xC0,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x0F,0x1F,0x1F,0x18,0x18,0x1F,0x1F,0x0F,0x03,0x00,0x00,0x00
},
{
/*--p-------------------------------------------------------------------------*/
0x00,0x00,0x00,0x00,0xE0,0xE0,0xE0,0xE0,0x60,0xE0,0xE0,0xC0,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0xFF,0xFF,0xFF,0x1C,0x18,0x1F,0x1F,0x0F,0x00,0x00,0x00,0x00
},
{
/*--q-------------------------------------------------------------------------*/
0x00,0x00,0x00,0x00,0xC0,0xE0,0xE0,0x60,0xE0,0xE0,0xE0,0xE0,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x07,0x1F,0x1F,0x1F,0x18,0x1C,0xFF,0xFF,0xFF,0x00,0x00,0x00,0x00
},
{
/*--r-------------------------------------------------------------------------*/
0x00,0x00,0x00,0x00,0x00,0x00,0xE0,0xE0,0xE0,0x60,0x60,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x1F,0x1F,0x1F,0x00,0x00,0x00,0x00,0x00,0x00,0x00
},
{
/*--s-------------------------------------------------------------------------*/
0x00,0x00,0x00,0x00,0x00,0xC0,0xE0,0xE0,0x60,0x60,0x60,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x19,0x1B,0x1B,0x1F,0x1F,0x1F,0x00,0x00,0x00,0x00,0x00
},
{
/*--t-------------------------------------------------------------------------*/
0x00,0x00,0x00,0x00,0x00,0x60,0xF8,0xF8,0xF8,0x60,0x60,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x0F,0x1F,0x1F,0x18,0x18,0x00,0x00,0x00,0x00,0x00
},
{
/*--u-------------------------------------------------------------------------*/
0x00,0x00,0x00,0x00,0xE0,0xE0,0xE0,0x00,0x00,0xE0,0xE0,0xE0,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x0F,0x1F,0x1F,0x18,0x1C,0x1F,0x1F,0x1F,0x00,0x00,0x00,0x00
},
{
/*--v-------------------------------------------------------------------------*/
0x00,0x00,0x00,0x00,0xE0,0xE0,0xE0,0x80,0x80,0xE0,0xE0,0xE0,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x07,0x1F,0x1F,0x1F,0x1F,0x07,0x00,0x00,0x00,0x00,0x00
},
{
/*--w-------------------------------------------------------------------------*/
0x00,0x00,0xE0,0xE0,0xE0,0x00,0xC0,0xE0,0xE0,0xE0,0x00,0xE0,0xE0,0xE0,0x00,0x00,
0x00,0x00,0x00,0x0F,0x1F,0x1F,0x1F,0x07,0x0F,0x1F,0x1F,0x1F,0x0F,0x00,0x00,0x00
},
{
/*--x-------------------------------------------------------------------------*/
0x00,0x00,0x00,0x00,0x20,0xE0,0xE0,0xE0,0xC0,0xE0,0xE0,0x60,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x18,0x1C,0x1F,0x0F,0x0F,0x1F,0x1E,0x18,0x00,0x00,0x00,0x00
},
{
/*--y-------------------------------------------------------------------------*/
0x00,0x00,0x00,0x00,0xE0,0xE0,0xE0,0x80,0x00,0xE0,0xE0,0xE0,0x20,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x80,0x83,0xFF,0xFF,0xFF,0x3F,0x07,0x00,0x00,0x00,0x00,0x00
},
{
/*--z-------------------------------------------------------------------------*/
0x00,0x00,0x00,0x00,0x00,0x60,0x60,0xE0,0xE0,0xE0,0xE0,0xE0,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x1C,0x1E,0x1F,0x1F,0x1F,0x1B,0x19,0x18,0x00,0x00,0x00,0x00
},
{
/*--!-------------------------------------------------------------------------*/
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xFC,0xFC,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x1B,0x1B,0x00,0x00,0x00,0x00,0x00,0x00,0x00
},
{
/*--53-------------------------------------------------------------------------*/
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00
}
};

/****************************************************************************
函数功能:LCD延时程序
入口参数:t
出口参数:
****************************************************************************/
void LCDdelay(unsigned int t)
{
	unsigned int i,j;
	for(i=0;i<t;i++);
	for(j=0;j<10;j++);
}
/****************************************************************************
状态检查，LCD是否忙


*****************************************************************************/
void CheckState()		
{
   unsigned char dat,DATA;//状态信息（判断是否忙）
   LCDDi=0; // 数据\指令选择，D/I（RS）="L" ，表示 DB7∽DB0 为显示指令数据 
   LCDRW=1; //R/W="H" ，E="H"数据被读到DB7∽DB0 
   do
   {
      DATA=0x00;
      LCDEnable=1;	//EN下降源
	  LCDdelay(2);//延时
	  dat=DATA;
      LCDEnable=0;
      dat=0x80 & dat; //仅当第7位为0时才可操作(判别busy信号)
    }
    while(!(dat==0x00));
}
/*****************************************************************************
函数功能:写命令到LCD程序，RS(DI)=L,RW=L,EN=H，即来一个脉冲写一次
入口参数:cmdcode
出口参数:
*****************************************************************************/
void write_com(unsigned char cmdcode)
{
    CheckState();//检测LCD是否忙
	LCDDi=0;
	LCDRW=0;
	P0=cmdcode;		
	LCDdelay(2);
	LCDEnable=1;
	LCDdelay(2);
	LCDEnable=0;
}
/*****************************************************************************
函数功能:LCD初始化程序
入口参数:
出口参数:
*****************************************************************************/
void init_lcd()
{
	LCDdelay(100);	
	LCDMcs=1;//刚开始关闭两屏
	LCDScs=1;
	LCDdelay(100);
	write_com(LCDLCDDisp_Off);	 //写初始化命令
	write_com(Page_Add+0);
	write_com(Start_Line+0);
	write_com(LCDCol_Add+0);
	write_com(LCDLCDDisp_On);
}
/*****************************************************************************
函数功能:写数据到LCD程序，RS(DI)=H,RW=L,EN=H，即来一个脉冲写一次
入口参数:LCDDispdata
出口参数:
*****************************************************************************/
void write_data(unsigned char LCDDispdata)
{
    CheckState();//检测LCD是否忙
	LCDDi=1;
	LCDRW=0;
	P0=LCDDispdata;
	LCDdelay(2);
	LCDEnable=1;
	LCDdelay(2);
	LCDEnable=0;
}
/*****************************************************************************
函数功能:清除LCD内存程序
入口参数:pag,col,hzk
出口参数:
*****************************************************************************/
void Clr_Scr()
{
	unsigned char j,k;
	LCDMcs=0; //左、右屏均开显示
	LCDScs=0;
 	write_com(Page_Add+0);
 	write_com(LCDCol_Add+0);
 	for(k=0;k<8;k++)//控制页数0-7，共8页
 	{
		write_com(Page_Add+k); //每页每页进行写
  		for(j=0;j<64;j++)  //每页最多可写32个中文文字或64个ASCII字符
		{
      		write_com(LCDCol_Add+j);
			write_data(0x00);//控制列数0-63，共64列，写点内容，列地址自动加1
		}
	}
}
/*****************************************************************************
函数功能:指定位置显示字母16*16程序
入口参数:page,column,hzk
出口参数:
*****************************************************************************/
void hz_LCDDisp16(unsigned char page,unsigned char column, unsigned char code *hzk)
{
	unsigned char j=0,i=0;
	for(j=0;j<2;j++)
	{
		write_com(Page_Add+page+j);
		write_com(LCDCol_Add+column);
		for(i=0;i<16;i++) 
			write_data(hzk[16*j+i]);
	}
}

void delay_ms(unsigned int z)  //延时子程序
{ 
 	unsigned int x,y;
	for(x=z;x>0;x--)
	for(y=110;y>0;y--);
}

void main()
{
	Clr_Scr();
	LCDMcs=0; //左屏开显示
	LCDScs=1;
	hz_LCDDisp16(0,0,Start[0]);
	hz_LCDDisp16(0,16,Alphabet[52]);
	hz_LCDDisp16(2,0,Start[1]);
	hz_LCDDisp16(2,16,Start[2]);
	hz_LCDDisp16(2,32,Start[3]);
	hz_LCDDisp16(2,48,Start[4]);
    LCDMcs=1; //右屏开显示
	LCDScs=0;
    hz_LCDDisp16(2,0,Start[5]);
	hz_LCDDisp16(2,16,Start[6]);
	hz_LCDDisp16(2,32,Start[7]);
	 
	for(e = 0; e < 32; e++) {
		 letter[e] = 53;
	}
	n = 0;

	while(1){ 
		if(IsNew == 1) {
			if(M0 == 1) K0 = 1;
			else		K0 = 0;	
			if(M1 == 1) K1 = 1;
			else		K1 = 0;
			if(M2 == 1) K2 = 1;
			else		K2 = 0;
			if(M3 == 1) K3 = 1;
			else		K3 = 0;
			if(M4 == 1) K4 = 1;
			else		K4 = 0;
			if(M5 == 1) K5 = 1;
			else		K5 = 0;
	  		b = K0*1 + K1*2 + K2*4 + K3*8 + K4*16 + K5*32; 
			
			letter[n] = b;
			n++;

		 	delay_ms(101);	
		}
		
		if(letter[n-1] == 54) {
			letter[n-1] = 53;
			init_lcd();		  
			Clr_Scr();
			LCDMcs=0; //左屏开显示
			LCDScs=1;
			hz_LCDDisp16(0,0,Alphabet[letter[0]]);
			hz_LCDDisp16(0,16,Alphabet[letter[1]]);
			hz_LCDDisp16(0,32,Alphabet[letter[2]]);
			hz_LCDDisp16(0,48,Alphabet[letter[3]]);
			hz_LCDDisp16(2,0,Alphabet[letter[8]]);
			hz_LCDDisp16(2,16,Alphabet[letter[9]]);
			hz_LCDDisp16(2,32,Alphabet[letter[10]]);
			hz_LCDDisp16(2,48,Alphabet[letter[11]]);
			hz_LCDDisp16(4,0,Alphabet[letter[16]]);
			hz_LCDDisp16(4,16,Alphabet[letter[17]]);
			hz_LCDDisp16(4,32,Alphabet[letter[18]]);
			hz_LCDDisp16(4,48,Alphabet[letter[19]]);
			hz_LCDDisp16(6,0,Alphabet[letter[24]]);
			hz_LCDDisp16(6,16,Alphabet[letter[25]]);
			hz_LCDDisp16(6,32,Alphabet[letter[26]]);
			hz_LCDDisp16(6,48,Alphabet[letter[27]]);
    		LCDMcs=1; //右屏开显示
			LCDScs=0;
    		hz_LCDDisp16(0,0,Alphabet[letter[4]]);
			hz_LCDDisp16(0,16,Alphabet[letter[5]]);
			hz_LCDDisp16(0,32,Alphabet[letter[6]]);
			hz_LCDDisp16(0,48,Alphabet[letter[7]]);	 
			hz_LCDDisp16(2,0,Alphabet[letter[12]]);
			hz_LCDDisp16(2,16,Alphabet[letter[13]]);
			hz_LCDDisp16(2,32,Alphabet[letter[14]]);
			hz_LCDDisp16(2,48,Alphabet[letter[15]]); 
			hz_LCDDisp16(4,0,Alphabet[letter[20]]);
			hz_LCDDisp16(4,16,Alphabet[letter[21]]);
			hz_LCDDisp16(4,32,Alphabet[letter[22]]);
			hz_LCDDisp16(4,48,Alphabet[letter[23]]); 
			hz_LCDDisp16(6,0,Alphabet[letter[28]]);
			hz_LCDDisp16(6,16,Alphabet[letter[29]]);
			hz_LCDDisp16(6,32,Alphabet[letter[30]]);
			hz_LCDDisp16(6,48,Alphabet[letter[31]]);

			n = 0;

			for(e = 0; e < 32; e++) {
		 		letter[e] = 53;
			}
		}
	}
}


	